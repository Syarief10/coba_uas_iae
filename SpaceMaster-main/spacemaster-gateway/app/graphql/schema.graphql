type Venue {
  id: ID!
  name: String!
  city: String!
  address: String!
  description: String
  rooms: [Room!]!
}

type Room {
  id: ID!
  name: String!
  capacity: Int!
  venueId: Int!
  venue: Venue!
  schedules: [Schedule!]!
}


# SCHEDULE SECTION
enum ScheduleStatus {
  AVAILABLE
  BLOCKED
  MAINTENANCE
}

type Schedule {
  id: ID!
  roomId: Int!
  startTime: String!
  endTime: String!
  status: ScheduleStatus!
  room: Room!
}

input ScheduleInput {
  roomId: Int!
  startTime: String!
  endTime: String!
  status: ScheduleStatus!
}

input ScheduleUpdateInput {
  roomId: Int
  startTime: String
  endTime: String
  status: ScheduleStatus
}

type AvailableSlot {
  startTime: String!
  endTime: String!
}

# BLOCK SCHEDULE
input BlockScheduleInput {
  roomId: Int!
  startTime: String!
  endTime: String!
}

type BlockScheduleResponse {
  success: Boolean!
  message: String!
}


# QUERY
type Query {
  venues: [Venue!]!
  venue(id: ID!): Venue

  roomsByVenue(venueId: ID!): [Room!]!
  room(id: ID!): Room

  schedules: [Schedule!]!

  availableSlots(
    roomId: Int!
    startDate: String!
    endDate: String!
  ): [AvailableSlot!]!
}

# MUTATION
type Mutation {
  createSchedule(data: ScheduleInput!): Schedule!
  updateSchedule(id: ID!, data: ScheduleUpdateInput!): Schedule!
  deleteSchedule(id: ID!): Boolean!

  blockSchedule(input: BlockScheduleInput!): BlockScheduleResponse!
}
